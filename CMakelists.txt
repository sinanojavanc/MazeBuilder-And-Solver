cmake_minimum_required(VERSION 3.16)
project(MyProject)

set(CMAKE_CXX_STANDARD 20)

# ---- SDL Paths ----
set(SDL3_INCLUDE_DIR "${CMAKE_SOURCE_DIR}/external/SDL3/include")
set(SDL3_LIB_DIR "${CMAKE_SOURCE_DIR}/external/SDL3/lib")

include_directories(${SDL3_INCLUDE_DIR})
link_directories(${SDL3_LIB_DIR})

# ---- Source Files ----
file(GLOB SOURCES src/*.cpp)

add_executable(MyProject ${SOURCES})

# ---- Link SDL3 ----
target_link_libraries(MyProject SDL3)

# ---- Copy SDL3.dll next to the executable ----
add_custom_command(TARGET MyProject POST_BUILD
    COMMAND ${CMAKE_COMMAND} -E copy_if_different
        "${CMAKE_SOURCE_DIR}/external/SDL3/SDL3.dll"
        $<TARGET_FILE_DIR:MyProject>
)
